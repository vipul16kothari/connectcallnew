import { AppwriteHost, AppwriteCall } from '@/services/appwrite';

/**
 * Dummy Data Module
 *
 * This module provides rich dummy data that activates when:
 * 1. User logs in via "Dummy Login" (5 taps on logo)
 * 2. Connection to Appwrite backend fails
 *
 * All dummy data includes realistic profiles, statuses, and timestamps
 */

// Extended dummy host profiles with realistic data
export const DUMMY_HOSTS: AppwriteHost[] = [
  {
    $id: 'dummy-host-1',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-1',
    name: 'Sarah Chen',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=1',
    languages: ['English', 'Chinese', 'Spanish'],
    specialties: ['Career', 'Travel', 'Culture'],
    bio: 'Travel enthusiast and language expert with 5 years of experience. Love discussing culture, food, and adventure stories!',
    rating: 4.9,
    totalCalls: 342,
    audioCostPerMin: 10,
    videoCostPerMin: 15,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 180 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-2',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-2',
    name: 'Marco Rossi',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=12',
    languages: ['English', 'Italian', 'Spanish'],
    specialties: ['Arts', 'History', 'Food'],
    bio: 'Passionate about arts, history, and Italian cuisine. Let\'s chat about life and learn together!',
    rating: 4.8,
    totalCalls: 289,
    audioCostPerMin: 12,
    videoCostPerMin: 18,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 150 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-3',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-3',
    name: 'Emma Williams',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=5',
    languages: ['English', 'French'],
    specialties: ['Life Coaching', 'Motivation', 'Wellness'],
    bio: 'Life coach and motivational speaker. Here to inspire and have meaningful conversations with you.',
    rating: 4.95,
    totalCalls: 521,
    audioCostPerMin: 15,
    videoCostPerMin: 20,
    isOnline: false,
    lastOnlineAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
    createdAt: new Date(Date.now() - 365 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-host-4',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-4',
    name: 'Yuki Tanaka',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=47',
    languages: ['English', 'Japanese'],
    specialties: ['Technology', 'Anime', 'Gaming'],
    bio: 'Anime and manga lover, tech geek. Let\'s discuss Japanese culture and technology!',
    rating: 4.7,
    totalCalls: 198,
    audioCostPerMin: 8,
    videoCostPerMin: 12,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-5',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-5',
    name: 'Ahmed Hassan',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=33',
    languages: ['English', 'Arabic'],
    specialties: ['Philosophy', 'Literature', 'Spirituality'],
    bio: 'Philosophy and literature enthusiast. Deep conversations about life, culture, and spirituality.',
    rating: 4.85,
    totalCalls: 267,
    audioCostPerMin: 10,
    videoCostPerMin: 15,
    isOnline: false,
    lastOnlineAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
    createdAt: new Date(Date.now() - 200 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-host-6',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-6',
    name: 'Sofia Martinez',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=9',
    languages: ['English', 'Spanish', 'Portuguese'],
    specialties: ['Dance', 'Music', 'Relationships'],
    bio: 'Salsa dancer and music teacher. Let\'s talk about Latin culture, music, and dance!',
    rating: 4.8,
    totalCalls: 412,
    audioCostPerMin: 11,
    videoCostPerMin: 16,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 240 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-7',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-7',
    name: 'David Kim',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=15',
    languages: ['English', 'Korean'],
    specialties: ['Business', 'Startup', 'Investment'],
    bio: 'Entrepreneur and startup advisor. Happy to discuss business ideas, investments, and career growth.',
    rating: 4.88,
    totalCalls: 378,
    audioCostPerMin: 14,
    videoCostPerMin: 19,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 210 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-8',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-8',
    name: 'Priya Sharma',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=44',
    languages: ['English', 'Hindi', 'French'],
    specialties: ['Yoga', 'Meditation', 'Wellness'],
    bio: 'Certified yoga instructor and wellness coach. Let\'s talk about mindfulness, health, and inner peace.',
    rating: 4.92,
    totalCalls: 456,
    audioCostPerMin: 13,
    videoCostPerMin: 17,
    isOnline: false,
    lastOnlineAt: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),
    createdAt: new Date(Date.now() - 280 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date(Date.now() - 8 * 60 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-host-9',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-9',
    name: 'Lucas Silva',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=51',
    languages: ['English', 'Portuguese'],
    specialties: ['Sports', 'Fitness', 'Nutrition'],
    bio: 'Personal trainer and nutrition expert. Let\'s discuss fitness goals, sports, and healthy living!',
    rating: 4.76,
    totalCalls: 234,
    audioCostPerMin: 9,
    videoCostPerMin: 13,
    isOnline: true,
    lastOnlineAt: new Date().toISOString(),
    createdAt: new Date(Date.now() - 120 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date().toISOString(),
  },
  {
    $id: 'dummy-host-10',
    $createdAt: new Date().toISOString(),
    $updatedAt: new Date().toISOString(),
    $permissions: [],
    $collectionId: 'hosts',
    $databaseId: 'main',
    $sequence: 0,
    userId: 'dummy-user-host-10',
    name: 'Isabella Dubois',
    profilePictureUrl: 'https://i.pravatar.cc/400?img=26',
    languages: ['English', 'French', 'Italian'],
    specialties: ['Fashion', 'Design', 'Beauty'],
    bio: 'Fashion designer and beauty consultant. Let\'s chat about style, trends, and personal branding!',
    rating: 4.83,
    totalCalls: 315,
    audioCostPerMin: 12,
    videoCostPerMin: 16,
    isOnline: false,
    lastOnlineAt: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),
    createdAt: new Date(Date.now() - 190 * 24 * 60 * 60 * 1000).toISOString(),
    updatedAt: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(),
  },
];

// Dummy call history with realistic variety
export const DUMMY_CALL_HISTORY: AppwriteCall[] = [
  {
    $id: 'dummy-call-1',
    $createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-1',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-1',
    callType: 'video',
    startTime: new Date(Date.now() - 2 * 60 * 60 * 1000 - 30 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
    duration: 1800, // 30 minutes
    coinsSpent: 450, // 30 min * 15 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000 - 30 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-2',
    $createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-2',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-3',
    callType: 'audio',
    startTime: new Date(Date.now() - 5 * 60 * 60 * 1000 - 15 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString(),
    duration: 900, // 15 minutes
    coinsSpent: 225, // 15 min * 15 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000 - 15 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-3',
    $createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-3',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-2',
    callType: 'video',
    startTime: new Date(Date.now() - 24 * 60 * 60 * 1000 - 40 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
    duration: 2400, // 40 minutes
    coinsSpent: 720, // 40 min * 18 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000 - 40 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-4',
    $createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-4',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-4',
    callType: 'audio',
    startTime: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000 - 10 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),
    duration: 600, // 10 minutes
    coinsSpent: 80, // 10 min * 8 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000 - 10 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-5',
    $createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-5',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-5',
    callType: 'video',
    startTime: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000 - 20 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),
    duration: 1200, // 20 minutes
    coinsSpent: 300, // 20 min * 15 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000 - 20 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-6',
    $createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-6',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-6',
    callType: 'audio',
    startTime: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000 - 25 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),
    duration: 1500, // 25 minutes
    coinsSpent: 275, // 25 min * 11 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000 - 25 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-7',
    $createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-7',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-7',
    callType: 'video',
    startTime: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000 - 35 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(),
    duration: 2100, // 35 minutes
    coinsSpent: 665, // 35 min * 19 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000 - 35 * 60 * 1000).toISOString(),
  },
  {
    $id: 'dummy-call-8',
    $createdAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    $updatedAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    $permissions: [],
    $collectionId: 'calls',
    $databaseId: 'main',
    $sequence: 0,
    callId: 'call-dummy-8',
    userId: 'dummy-user-123',
    hostId: 'dummy-host-9',
    callType: 'audio',
    startTime: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000 - 12 * 60 * 1000).toISOString(),
    endTime: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000).toISOString(),
    duration: 720, // 12 minutes
    coinsSpent: 108, // 12 min * 9 coins/min
    status: 'completed',
    createdAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000 - 12 * 60 * 1000).toISOString(),
  },
];

/**
 * Helper function to check if user is in dummy mode
 */
export function isDummyMode(userId: string | undefined): boolean {
  return userId === 'dummy-user-123';
}

/**
 * Get dummy hosts based on filter (all or online only)
 */
export function getDummyHosts(onlineOnly: boolean = false): AppwriteHost[] {
  if (onlineOnly) {
    return DUMMY_HOSTS.filter(host => host.isOnline);
  }
  return DUMMY_HOSTS;
}

/**
 * Get dummy host by ID
 */
export function getDummyHostById(hostId: string): AppwriteHost | null {
  return DUMMY_HOSTS.find(host => host.$id === hostId) || null;
}

/**
 * Get dummy call history
 */
export function getDummyCallHistory(): AppwriteCall[] {
  return DUMMY_CALL_HISTORY;
}
